{"ast":null,"code":"var _jsxFileName = \"E:\\\\L\\xE0m tiktok\\\\google-places-api-demo-type\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\nimport Draggable from 'react-draggable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '600px'\n};\nconst defaultCenter = {\n  lat: 21.136663,\n  lng: 105.7473446\n};\nfunction MapComponent() {\n  _s();\n  const mapRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [opacity, setOpacity] = useState(1);\n  const [scale, setScale] = useState(1);\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [latLng, setLatLng] = useState({\n    lat: center.lat,\n    lng: center.lng\n  });\n  const [size, setSize] = useState({\n    width: containerStyle.width,\n    height: containerStyle.height\n  });\n  useEffect(() => {\n    if (mapRef.current) {\n      const projection = mapRef.current.getProjection();\n      if (projection) {\n        const worldCoordinateCenter = projection.fromLatLngToPoint(center);\n        const pixelOffset = new window.google.maps.Point(position.x / scale + worldCoordinateCenter.x, position.y / scale + worldCoordinateCenter.y);\n        const newLatLng = projection.fromPointToLatLng(pixelOffset);\n        setLatLng({\n          lat: newLatLng.lat(),\n          lng: newLatLng.lng()\n        });\n      }\n    }\n  }, [scale, position]);\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.onload = event => {\n      const img = new Image();\n      img.onload = () => {\n        setSize({\n          width: containerStyle.width,\n          height: img.height / img.width * containerStyle.width\n        });\n      };\n      img.src = event.target.result;\n      setImage(event.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleDrag = (e, data) => {\n    setPosition({\n      x: data.x,\n      y: data.y\n    });\n  };\n  const handleLoad = map => {\n    mapRef.current = map;\n  };\n  const handleScaleChange = e => {\n    const newScale = parseFloat(e.target.value);\n    setScale(newScale);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"1\",\n      step: \"0.01\",\n      value: opacity,\n      onChange: e => setOpacity(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Opacity: \", opacity]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: \"0.1\",\n      max: \"2\",\n      step: \"0.01\",\n      value: scale,\n      onChange: handleScaleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Scale: \", scale]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Position: (\", position.x, \", \", position.y, \") | Size: (\", size.width, \"px, \", size.height, \"px)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Coordinates: (\", latLng.lat, \", \", latLng.lng, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"YOUR_GOOGLE_MAPS_API_KEY\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: center,\n        zoom: 10,\n        onLoad: handleLoad,\n        children: image && /*#__PURE__*/_jsxDEV(Draggable, {\n          onDrag: handleDrag,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: position.y,\n              left: position.x,\n              opacity: opacity,\n              transform: `scale(${scale})`,\n              transformOrigin: 'top left',\n              zIndex: 1000\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: \"overlay\",\n              style: {\n                width: size.width,\n                height: size.height\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(MapComponent, \"dB8AB+CME3ZH6+uY2D5f5VuxBF0=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useRef","useState","GoogleMap","LoadScript","Draggable","containerStyle","width","height","defaultCenter","lat","lng","MapComponent","mapRef","image","setImage","opacity","setOpacity","scale","setScale","position","setPosition","x","y","latLng","setLatLng","center","size","setSize","useEffect","current","projection","getProjection","worldCoordinateCenter","fromLatLngToPoint","pixelOffset","window","google","maps","Point","newLatLng","fromPointToLatLng","handleFileChange","e","file","target","files","reader","FileReader","onload","event","img","Image","src","result","readAsDataURL","handleDrag","data","handleLoad","map","handleScaleChange","newScale","parseFloat","value","top","left","transform","transformOrigin","zIndex"],"sources":["E:/LÃ m tiktok/google-places-api-demo-type/src/components/Map.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\r\nimport Draggable from 'react-draggable';\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '600px'\r\n};\r\n\r\nconst defaultCenter = {\r\n  lat: 21.136663,\r\n  lng: 105.7473446\r\n};\r\n\r\n\r\nfunction MapComponent() {\r\n  const mapRef = useRef(null);\r\n  const [image, setImage] = useState(null);\r\n  const [opacity, setOpacity] = useState(1);\r\n  const [scale, setScale] = useState(1);\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [latLng, setLatLng] = useState({ lat: center.lat, lng: center.lng });\r\n  const [size, setSize] = useState({ width: containerStyle.width, height: containerStyle.height });\r\n\r\n  useEffect(() => {\r\n    if (mapRef.current) {\r\n      const projection = mapRef.current.getProjection();\r\n      if (projection) {\r\n        const worldCoordinateCenter = projection.fromLatLngToPoint(center);\r\n        const pixelOffset = new window.google.maps.Point(\r\n          (position.x / scale) + worldCoordinateCenter.x,\r\n          (position.y / scale) + worldCoordinateCenter.y\r\n        );\r\n        const newLatLng = projection.fromPointToLatLng(pixelOffset);\r\n        setLatLng({ lat: newLatLng.lat(), lng: newLatLng.lng() });\r\n      }\r\n    }\r\n  }, [scale, position]);\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setSize({\r\n          width: containerStyle.width,\r\n          height: (img.height / img.width) * containerStyle.width\r\n        });\r\n      };\r\n      img.src = event.target.result;\r\n      setImage(event.target.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleDrag = (e, data) => {\r\n    setPosition({ x: data.x, y: data.y });\r\n  };\r\n\r\n  const handleLoad = (map) => {\r\n    mapRef.current = map;\r\n  };\r\n\r\n  const handleScaleChange = (e) => {\r\n    const newScale = parseFloat(e.target.value);\r\n    setScale(newScale);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n      <br />\r\n      <input\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"1\"\r\n        step=\"0.01\"\r\n        value={opacity}\r\n        onChange={(e) => setOpacity(e.target.value)}\r\n      />\r\n      <p>Opacity: {opacity}</p>\r\n      <input\r\n        type=\"range\"\r\n        min=\"0.1\"\r\n        max=\"2\"\r\n        step=\"0.01\"\r\n        value={scale}\r\n        onChange={handleScaleChange}\r\n      />\r\n      <p>Scale: {scale}</p>\r\n      <p>\r\n        Position: ({position.x}, {position.y}) | Size: ({size.width}px, {size.height}px)\r\n      </p>\r\n      <p>\r\n        Coordinates: ({latLng.lat}, {latLng.lng})\r\n      </p>\r\n      <LoadScript googleMapsApiKey=\"YOUR_GOOGLE_MAPS_API_KEY\">\r\n        <GoogleMap\r\n          mapContainerStyle={containerStyle}\r\n          center={center}\r\n          zoom={10}\r\n          onLoad={handleLoad}\r\n        >\r\n          {image && (\r\n            <Draggable onDrag={handleDrag}>\r\n              <div\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: position.y,\r\n                  left: position.x,\r\n                  opacity: opacity,\r\n                  transform: `scale(${scale})`,\r\n                  transformOrigin: 'top left',\r\n                  zIndex: 1000\r\n                }}\r\n              >\r\n                <img src={image} alt=\"overlay\" style={{ width: size.width, height: size.height }} />\r\n              </div>\r\n            </Draggable>\r\n          )}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}