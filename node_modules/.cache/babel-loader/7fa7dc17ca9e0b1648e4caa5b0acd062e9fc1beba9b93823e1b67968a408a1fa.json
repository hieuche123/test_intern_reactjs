{"ast":null,"code":"var _jsxFileName = \"E:\\\\L\\xE0m tiktok\\\\google-places-api-demo-type\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, OverlayView } from '@react-google-maps/api';\nimport Draggable from 'react-draggable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '600px'\n};\nconst center = {\n  lat: 10.8231,\n  lng: 106.6297\n};\nfunction MapComponent() {\n  _s();\n  const mapRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [opacity, setOpacity] = useState(1);\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [latLng, setLatLng] = useState({\n    lat: center.lat,\n    lng: center.lng\n  });\n  const [size, setSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.onload = event => {\n      const img = new Image();\n      img.onload = () => {\n        setSize({\n          width: img.width,\n          height: img.height\n        });\n      };\n      img.src = event.target.result;\n      setImage(event.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleDrag = (e, data) => {\n    setPosition({\n      x: data.x,\n      y: data.y\n    });\n    if (mapRef.current) {\n      const projection = mapRef.current.getProjection();\n      if (projection) {\n        const bounds = mapRef.current.getBounds();\n        if (bounds) {\n          const ne = bounds.getNorthEast();\n          const sw = bounds.getSouthWest();\n          const scale = Math.pow(2, mapRef.current.getZoom());\n          const worldCoordinateCenter = projection.fromLatLngToPoint(center);\n          const pixelOffset = new window.google.maps.Point(data.x / scale + worldCoordinateCenter.x, data.y / scale + worldCoordinateCenter.y);\n          const newLatLng = projection.fromPointToLatLng(pixelOffset);\n          setLatLng({\n            lat: newLatLng.lat(),\n            lng: newLatLng.lng()\n          });\n        }\n      }\n    }\n  };\n  const handleLoad = map => {\n    mapRef.current = map;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"1\",\n      step: \"0.01\",\n      value: opacity,\n      onChange: e => setOpacity(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Opacity: \", opacity]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Position: (\", position.x, \", \", position.y, \") | Size: (\", size.width, \"px, \", size.height, \"px)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Coordinates: (\", latLng.lat, \", \", latLng.lng, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"YOUR_GOOGLE_MAPS_API_KEY\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: center,\n        zoom: 10,\n        onLoad: handleLoad,\n        children: image && /*#__PURE__*/_jsxDEV(Draggable, {\n          onDrag: handleDrag,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: position.y,\n              left: position.x,\n              opacity: opacity,\n              zIndex: 1000\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: \"overlay\",\n              style: {\n                width: '100%',\n                height: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(MapComponent, \"syThCOyx2PVVjvJxZro6Etr6wGA=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useRef","useState","useEffect","GoogleMap","LoadScript","OverlayView","Draggable","containerStyle","width","height","center","lat","lng","MapComponent","mapRef","image","setImage","opacity","setOpacity","position","setPosition","x","y","latLng","setLatLng","size","setSize","handleFileChange","e","file","target","files","reader","FileReader","onload","event","img","Image","src","result","readAsDataURL","handleDrag","data","current","projection","getProjection","bounds","getBounds","ne","getNorthEast","sw","getSouthWest","scale","Math","pow","getZoom","worldCoordinateCenter","fromLatLngToPoint","pixelOffset","window","google","maps","Point","newLatLng","fromPointToLatLng","handleLoad","map","value","top","left","zIndex"],"sources":["E:/LÃ m tiktok/google-places-api-demo-type/src/components/Map.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { GoogleMap, LoadScript, OverlayView } from '@react-google-maps/api';\r\nimport Draggable from 'react-draggable';\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '600px'\r\n};\r\n\r\nconst center = {\r\n  lat: 10.8231,\r\n  lng: 106.6297\r\n};\r\n\r\nfunction MapComponent() {\r\n  const mapRef = useRef(null);\r\n  const [image, setImage] = useState(null);\r\n  const [opacity, setOpacity] = useState(1);\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [latLng, setLatLng] = useState({ lat: center.lat, lng: center.lng });\r\n  const [size, setSize] = useState({ width: 0, height: 0 });\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setSize({ width: img.width, height: img.height });\r\n      };\r\n      img.src = event.target.result;\r\n      setImage(event.target.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleDrag = (e, data) => {\r\n    setPosition({ x: data.x, y: data.y });\r\n    if (mapRef.current) {\r\n      const projection = mapRef.current.getProjection();\r\n      if (projection) {\r\n        const bounds = mapRef.current.getBounds();\r\n        if (bounds) {\r\n          const ne = bounds.getNorthEast();\r\n          const sw = bounds.getSouthWest();\r\n          const scale = Math.pow(2, mapRef.current.getZoom());\r\n          const worldCoordinateCenter = projection.fromLatLngToPoint(center);\r\n          const pixelOffset = new window.google.maps.Point(\r\n            (data.x / scale) + worldCoordinateCenter.x,\r\n            (data.y / scale) + worldCoordinateCenter.y\r\n          );\r\n          const newLatLng = projection.fromPointToLatLng(pixelOffset);\r\n          setLatLng({ lat: newLatLng.lat(), lng: newLatLng.lng() });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLoad = (map) => {\r\n    mapRef.current = map;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n      <br />\r\n      <input\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"1\"\r\n        step=\"0.01\"\r\n        value={opacity}\r\n        onChange={(e) => setOpacity(e.target.value)}\r\n      />\r\n      <p>Opacity: {opacity}</p>\r\n      <p>\r\n        Position: ({position.x}, {position.y}) | Size: ({size.width}px, {size.height}px)\r\n      </p>\r\n      <p>\r\n        Coordinates: ({latLng.lat}, {latLng.lng})\r\n      </p>\r\n      <LoadScript googleMapsApiKey=\"YOUR_GOOGLE_MAPS_API_KEY\">\r\n        <GoogleMap\r\n          mapContainerStyle={containerStyle}\r\n          center={center}\r\n          zoom={10}\r\n          onLoad={handleLoad}\r\n        >\r\n          {image && (\r\n            <Draggable onDrag={handleDrag}>\r\n              <div\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: position.y,\r\n                  left: position.x,\r\n                  opacity: opacity,\r\n                  zIndex: 1000\r\n                }}\r\n              >\r\n                <img src={image} alt=\"overlay\" style={{ width: '100%', height: '100%' }} />\r\n              </div>\r\n            </Draggable>\r\n          )}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}